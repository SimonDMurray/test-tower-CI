name: Test Nextflow Tower

on:
  workflow_dispatch:

jobs:
  run-pipeline:  
    name: Test Nextflow Tower 
    
    runs-on: ubuntu-latest

    steps:     
      - name: check git exists
        run: which git

      - name: checkout repo
        uses: actions/checkout@v3

      - name: Run Pipeline
        run : nextflow run $GITHUB_WORKSPACE/main.nf -with-tower ${{ secrets.TOWER_TOKEN }}
